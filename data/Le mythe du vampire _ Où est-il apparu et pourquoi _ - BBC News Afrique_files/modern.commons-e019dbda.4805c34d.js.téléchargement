(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1174],{17624:(e,t,n)=>{n.d(t,{D:()=>s,s:()=>v});var r=n(64980),a=(n(26099),n(16034),n(96540)),i=n(44022),o=n(82439),c=n(20875),l=n(61688),u=n(75258),s=(0,a.createContext)({}),d={},v=function(e){var t=e.children,n=e.data,v=e.atiData,p=(0,a.useContext)(i.b),f=p.pageType,m=(0,a.useContext)(u.h),g=m.atiAnalyticsProducerId,y=m.atiAnalyticsProducerName,b=(0,o.A)("eventTracking").enabled,A=(0,a.useMemo)((function(){if(b||n&&v){var e=function(e){var t,n=(t={},(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(t,c.R,"article"),c.KM,"article-sfv"),c.Uw,"index-home"),c.X2,"list-datadriven-read"),c.Ip,"index-section-fix"),c.KN,"article-media-asset"),c.YR,"article-sty"),c.MX,"article-photo-gallery"),c.vw,"article-csp"),c.Sp,"topic-page"),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)(t,c.ZD,"live-page"),c.Ko,"index-home"),c.M$,""),c.zA,"static-page"),c.G_,""),c.lU,"av-embeds"),c.WK,"downloads"),c.rs,"player-live"),c.XN,"player-episode"),c.pJ,"player-episode"))[e];return n||console.warn("ATI Event Tracking Error: Could not get the page type's campaign name"),n}(f),t=(0,l.uo)({requestContext:p,serviceContext:m,data:n,atiData:v}),a=t.pageIdentifier,i=t.platform,o=t.statsDestination;return{campaignID:e,pageIdentifier:a,platform:i,producerId:g,producerName:y,statsDestination:o}}return null}),[g,y,v,n,b,f,p,m]);if(!b||!n&&!v)return a.createElement(s.Provider,{value:d},t);var O=Object.values(A).every(Boolean);return a.createElement(s.Provider,{value:O?A:d},t)}},44022:(e,t,n)=>{n.d(t,{b:()=>f,I:()=>m});n(69085);var r=n(96540);const a=function(e){var t=e.isUK,n=void 0===t||t,r=e.env,a=void 0===r?"test":r,i="";switch(e.service){case"news":i=!1!==n?"NEWS_PS":"NEWS_GNL";break;case"cymrufyw":case"naidheachdan":i=!1!==n?"NEWS_LANGUAGES_PS":"NEWS_LANGUAGES_GNL";break;case"japanese":i="NEWS_LANGUAGES_GNL";break;case"scotland":i="PS_HOMEPAGE";break;case"archive":i="BBC_ARCHIVE_PS";break;case"newsround":i="NEWSROUND";break;case"sport":i=!1!==n?"SPORT_PS":"SPORT_GNL";break;case"ws":i="DEFAULT";break;default:i="WS_NEWS_LANGUAGES"}return"live"===a?i:"".concat(i,"_TEST")};n(28706);var i=n(20875);const o=function(e){var t=e.pageType,n=e.service,r=e.id;return t===i.R?"".concat(n,".articles.").concat(r,".page"):t===i.Uw?"".concat(n,".page"):null};var c=n(37667),l=n(65606);const u=function(e){var t="https://www.bbc.co.uk";return e?t=e:l&&"local"===(0,c.U)().SIMORGH_APP_ENV?t=(0,c.U)().SIMORGH_BASE_URL:"undefined"!=typeof window&&window.location&&window.location.origin&&(t=window.location.origin),{origin:t}};n(74423),n(21699);const s=function(e){return e.includes("local")?"local":e.includes("test")||e.includes("stage")?"test":"live"};n(27495),n(25440);var d=n(71390),v=function(e){return"".concat(e,".amp")};const p=function(e,t){var n=function(e,t){return"".concat(e).concat(t).replace(d.AMP_REGEX,"").replace(d.LITE_REGEX,"")}(e,t),r=n.replace(d.TLD_REGEX,".co.uk"),a=function(e){return e.replace(d.TLD_REGEX,".com")}(n);return{canonicalLink:n,ampLink:v(n),canonicalUkLink:r,ampUkLink:v(r),canonicalNonUkLink:a,ampNonUkLink:v(a)}};var f=r.createContext({}),m=function(e){var t=e.bbcOrigin,n=void 0===t?null:t,i=e.derivedPageType,c=void 0===i?null:i,l=e.children,d=e.id,v=void 0===d?null:d,m=e.isAmp,g=void 0!==m&&m,y=e.isApp,b=void 0!==y&&y,A=e.isLite,O=void 0!==A&&A,h=e.isNextJs,E=void 0!==h&&h,w=e.mvtExperiments,P=void 0===w?null:w,D=e.pageType,_=e.pathname,k=e.previousPath,S=void 0===k?null:k,I=e.service,j=e.showAdsBasedOnLocation,N=void 0!==j&&j,L=e.showCookieBannerBasedOnCountry,C=void 0===L||L,K=e.statusCode,T=void 0===K?null:K,x=e.timeOnServer,G=void 0===x?null:x,U=e.variant,R=void 0===U?null:U,B=e.isUK,M=void 0===B?null:B,W=u(n).origin,X=s(W),H=null!=M&&M,V=function(){switch(!0){case b:return"app";case g:return"amp";case O:return"lite";default:return"canonical"}}(),z=a({isUK:"amp"===V||H,env:X,service:I}),J=o({pageType:D,service:I,id:v}),Y=(0,r.useMemo)((function(){return Object.assign(Object.assign({env:X,id:v,isUK:H,origin:W,pageType:D,derivedPageType:c,isAmp:g,isApp:b,isLite:O,isNextJs:E,platform:V,statsDestination:z,statsPageIdentifier:J,statusCode:T,previousPath:S,variant:R,timeOnServer:G,showAdsBasedOnLocation:N,showCookieBannerBasedOnCountry:C,service:I,pathname:_},p(W,_)),{mvtExperiments:P})}),[c,X,H,v,g,b,O,E,P,W,D,_,V,S,I,N,C,z,J,T,G,R]);return r.createElement(f.Provider,{value:Y},l)}},75258:(e,t,n)=>{n.d(t,{h:()=>c,y:()=>l});var r=n(96540),a=n(72702),i=n(31),o=n(81292),c=(0,r.createContext)({}),l=function(e){var t=e.children,n=e.service,l=e.variant,u=e.pageLang,s=a.A[n];return s?r.createElement(s,{Context:c,dataKey:(0,o.A)({service:n,pageLang:u})||(0,i.IX)({service:n,variant:l})},t):null}},53665:(e,t,n)=>{n.d(t,{Gg:()=>v,$z:()=>p});var r=n(80296),a=n(96540),i=n(11197),o=n(37667),c=(n(69085),n(10851)),l=n.n(c),u=function(e){var t=e.data;return l()(!1,["toggles","ads","enabled"],t)};const s=function(e,t){var n=t.type,r=t.data;return"UPDATE_TOGGLE_STATE"===n?Object.assign(Object.assign(Object.assign({},e),r.toggles),{ads:{enabled:u({data:r})}}):e};var d=(0,o.U)().SIMORGH_APP_ENV||"local",v=(0,a.createContext)({}),p=function(e){var t=e.children,n=e.toggles,o=void 0===n?i.A[d]:n,c=(0,a.useReducer)(s,o),l=(0,r.A)(c,2),u=l[0],p=l[1],f=(0,a.useMemo)((function(){return{toggleState:u,toggleDispatch:p}}),[u,p]);return a.createElement(v.Provider,{value:f},t)};v.Consumer},52183:(e,t,n)=>{n.d(t,{R:()=>g,a:()=>y});var r=n(80296),a=n(96540),i=n(68414),o=n(18987),c=n(4178),l=n(16389),u=n(62242),s=function(){return o.A.get("ckns_policy")||"000"},d=function(e){return!(!e||3!==e.length||"1"!==e[2])},v=n(82439),p=n(78787),f=n(44022);const m=function(e){var t=e.config,n=void 0===t?null:t,r=(0,v.A)("chartbeatAnalytics").enabled,i=(0,a.useContext)(f.b).isAmp;return r&&n&&!i?a.createElement(p.A,{chartbeatConfig:n}):null};var g=a.createContext({}),y=function(e){var t=e.children,n=(0,a.useState)(s()),v=(0,r.A)(n,2),p=v[0],f=v[1],y=(0,a.useState)(null),b=(0,r.A)(y,2),A=b[0],O=b[1];(0,c.A)()&&!(0,l.A)()&&function(){var e="ckns_mvt";if(!o.A.get(e)){var t=(0,i.v4)();(0,u.A)({name:e,value:t})}}();var h=(0,a.useMemo)((function(){return{cookiePolicy:p,sendCanonicalChartbeatBeacon:O,updateCookiePolicy:function(){return f(s())},personalisationEnabled:d(p)}}),[p]);return a.createElement(g.Provider,{value:h},a.createElement(m,{config:A}),t)}},95673:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);var r=n(17437);const a=e=>t=>{var{Context:n,dataKey:a=null,children:i}=t;return(0,r.Y)(n.Provider,{value:a?e[a]:e},i)}},37182:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(64980),a=n(10467),i=(n(23792),n(62953),n(96540)),o=n(17624),c=n(64074),l=n(37884),u=n(8073),s=n(75258),d=n(66749),v=n.n(d),p=n(65044),f=n.n(p),m=e=>0===e,g=e=>1===e||4===e,y=e=>g(e.button)||(e=>m(e.button)&&e.shiftKey&&!(e.metaKey||e.altKey||e.ctrlKey))(e),b=(e,t)=>t&&!e.shiftKey&&!e.altKey||e.shiftKey&&t&&!e.altKey||e.shiftKey&&t&&e.altKey||e.shiftKey&&e.altKey&&!t||e.altKey&&t&&!e.shiftKey,A=e=>(v()(f()("Mac"),["navigator","platform"],window)?(e=>m(e.button)&&b(e,e.metaKey))(e):(e=>m(e.button)&&b(e,e.ctrlKey))(e))||y(e),O=e=>g(e.button)||(e=>m(e.button)&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey))(e)||A(e);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null==e?void 0:e.preventNavigation,n=null==e?void 0:e.componentName,r=null==e?void 0:e.url,d=null==e?void 0:e.advertiserID,v=null==e?void 0:e.format,p=null==e?void 0:e.optimizely,f=null==e?void 0:e.optimizelyMetricNameOverride,m=null==e?void 0:e.detailedPlacement,{trackingIsEnabled:g}=(0,c.A)(n),[y,b]=(0,i.useState)(!1),A=(0,i.useContext)(o.D),{pageIdentifier:h,platform:w,producerId:P,producerName:D,statsDestination:_}=A,k=(null==e?void 0:e.campaignID)||(null==A?void 0:A.campaignID),{service:S,useReverb:I}=(0,i.useContext)(s.h);return(0,i.useCallback)(function(){var e=(0,a.A)((function*(e){if([g,!y,O(e)].every(Boolean)&&(b(!0),[k,n,h,w,P,D,S,_].every(Boolean))){var a,i=null==e||null===(a=e.currentTarget)||void 0===a?void 0:a.href;if(e.stopPropagation(),e.preventDefault(),p){var o=l.A.viewClickAttributeId,c=E(E({},p.user.attributes),{},{["clicked_".concat(o)]:!0});p.track(f?"".concat(f,"_clicks"):"component_clicks",p.user.id,c)}var s=(null==p?void 0:p.getVariation(l.A.ruleKey))||null;try{yield(0,u.T)(E({type:"click",campaignID:k,componentName:n,format:v,pageIdentifier:h,platform:w,producerId:P,producerName:D,service:S,advertiserID:d,statsDestination:_,url:r,detailedPlacement:m,useReverb:I},s&&"off"!==s&&{experimentVariant:s}))}finally{i&&!t&&(p&&p.close(),window.location.assign(i))}}}));return function(t){return e.apply(this,arguments)}}(),[g,y,k,n,h,w,t,P,D,S,_,r,d,v,p,f,m,I])}},761:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(96540);const a=(e,t)=>{(0,r.useEffect)((()=>{var n=window.matchMedia(e);return t(n),n.addEventListener?n.addEventListener("change",t):n.addListener(t),()=>{n.removeEventListener?n.removeEventListener("change",t):n.removeListener(t)}}),[e,t])}},9972:(e,t,n)=>{n.d(t,{A:()=>a});n(23792),n(62953);var r=n(96540);const a=()=>{var[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{"undefined"!=typeof window&&window.operamini&&t(!0)}),[]),e}},82439:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(64980),a=n(96540),i=n(53665);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const c=e=>{var t=(0,a.useContext)(i.Gg).toggleState[e],{enabled:n=null,value:c}=t||{};return t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{enabled:n,value:c}):{enabled:null}}},64074:(e,t,n)=>{n.d(t,{A:()=>a});n(74423),n(21699),n(42762);var r=n(82439);const a=e=>{var{enabled:t,value:n}=(0,r.A)("eventTracking"),a=("string"==typeof n?n.trim().split(","):[]).includes(e);return{trackingIsEnabled:!0===t&&!a}}},78282:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(64980),a=n(10467),i=(n(23792),n(3362),n(62953),n(96540)),o=n(45932),c=n.n(o),l=n(8073),u=n(17624),s=n(64074),d=n(37884),v=n(75258);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null==e?void 0:e.componentName,r=null==e?void 0:e.format,o=null==e?void 0:e.advertiserID,p=null==e?void 0:e.url,m=null==e?void 0:e.optimizely,g=null==e?void 0:e.optimizelyMetricNameOverride,y=null==e?void 0:e.detailedPlacement,b=(0,i.useRef)(),A=(0,i.useRef)(null),[O,h]=(0,i.useState)(),[E,w]=(0,i.useState)(!1),{trackingIsEnabled:P}=(0,s.A)(t),D=(0,i.useContext)(u.D),{pageIdentifier:_,platform:k,producerId:S,producerName:I,statsDestination:j}=D,N=(null==e?void 0:e.campaignID)||(null==D?void 0:D.campaignID),{service:L,useReverb:C}=(0,i.useContext)(v.h),K=function(){var e=(0,a.A)((function*(){void 0===window.IntersectionObserver&&(yield n.e(5127).then(n.t.bind(n,95127,23)));var e={threshold:[.5]};b.current=new IntersectionObserver((e=>{var t=e.some(c()("isIntersecting"));h(t)}),e)}));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((()=>(O&&!A.current?A.current=setTimeout((()=>{if([[N,t,_,k,S,I,L,j].every(Boolean),P,!E].every(Boolean)){if(m){var e=d.A.viewClickAttributeId,n=f(f({},m.user.attributes),{},{["viewed_".concat(e)]:!0});m.track(g?"".concat(g,"_views"):"component_views",m.user.id,n)}var a=(null==m?void 0:m.getVariation(d.A.ruleKey))||null;(0,l.T)(f({campaignID:N,componentName:t,format:r,pageIdentifier:_,platform:k,producerId:S,producerName:I,service:L,statsDestination:j,type:"view",advertiserID:o,url:p,detailedPlacement:y,useReverb:C},a&&"off"!==a&&{experimentVariant:a})),w(!0),b.current.disconnect(),b.current=null,A.current=null}}),1e3):(clearTimeout(A.current),A.current=null),()=>{clearTimeout(A.current)})),[N,t,r,O,_,k,S,I,L,j,P,E,o,p,m,g,y,C]),function(){var e=(0,a.A)((function*(e){e&&P&&!E&&(b.current||(yield K()),b.current.observe(e))}));return function(t){return e.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=modern.commons-e019dbda.4805c34d.js.map
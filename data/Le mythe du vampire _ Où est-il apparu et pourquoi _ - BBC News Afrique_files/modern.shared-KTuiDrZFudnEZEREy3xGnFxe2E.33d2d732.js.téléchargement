(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89],{50150:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(17437),r=t(37182),o=t(46557);var i={name:"1rkp91e",styles:"vertical-align:middle;color:inherit"},s={name:"jor0o8",styles:"display:flex;flex-direction:row;justify-content:center"},c={name:"20z4gn",styles:"text-decoration:none;color:inherit;&:hover, &:focus{text-decoration:underline;}"};const l={linkBackground:function(){return c},linkTextWrapper:function(){return s},linkText:function(){return i}};const d=function(e){var n=e.href,t=e.className,i=e.children,s=e.eventTrackingData,c=e.download,d=void 0!==c&&c,m=(0,r.A)(s);return(0,a.Y)("a",{href:n,className:t,css:l.linkBackground,onClick:m,download:d},(0,a.Y)("div",{css:l.linkTextWrapper},(0,a.Y)(o.A,{size:"pica",fontVariant:"sansBold",css:l.linkText},i)))}},49794:(e,n,t)=>{t.d(n,{A:()=>B});t(28706),t(74423),t(69085),t(21699);var a=t(96540),r=t(44022),o=t(82439),i=t(37667),s=t(20813),c=t(75258),l=t(62615),d=t(17437),m=t(68154),u=t(41485),v=t(10851),p=t.n(v),g=t(51506),f=t(72059),h=(t(27495),t(25440),t(36431)),b=t.n(h);const y=function(e){var n=e.script,t=e.sha,a=e.encoding,r=e.base;try{var o=b().createHash(t).update(n,a);return"".concat(t,"-").concat(o.digest(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}catch(e){return void console.warn("Failed to create hash with params script = ".concat(n,", \n      sha = ").concat(t,", \n      encoding = ").concat(a,", \n      base = ").concat(r))}};var k={paragraph:function(e){var n=e.palette,t=e.fontVariants,a=e.fontSizes;return(0,d.AH)(Object.assign(Object.assign({color:n.SHADOW,margin:0},t.sansRegular),a.bodyCopy),"","")}};const D=k;const A=function(e){var n=e.endpoint,t=e.size,r=void 0===t?"default":t,o=(0,a.useContext)(c.h),i=o.service,s=o.dir,l=o.mostRead.numberOfItems,v=o.translations,h=function(e){var n=e.endpoint,t=e.service;return"\n  const translations = ".concat(JSON.stringify((0,f.T)(t)),'\n\n  const getRemoteData = async () => {\n    try {\n      const response = await fetch("').concat(n,"\");\n\n      if (!response.ok) {\n        throw Error('Unable to fetch most read data for ").concat(t,"')\n      }\n\n      const { data } = await response.json();\n\n      ").concat("\n    if (data.items.length === 0) {\n      throw new Error('Empty records from mostread endpoint');\n    }\n\n    data.items.forEach((item, index) => {\n      item.rankTranslation = translations[index + 1];\n    });\n  ","\n      \n      return data;\n    } catch (error) {\n      console.warn(error);\n      return [];\n    }\n  }\n\n  exportFunction('getRemoteData', getRemoteData);\n  ")}({endpoint:n,service:i}),b=p()("Content is not available",["socialEmbed","fallback","text"],v),k=s;return(0,d.Y)("amp-script",{id:"dataFunctions",script:"local-script"},(0,d.Y)(m.m,{script:[{id:"local-script",type:"text/plain",target:"amp-script",innerHTML:h}]}),(0,d.Y)(m.m,null,u.WK,u.mz,u.$L,(0,d.Y)("meta",{name:"amp-script-src",content:y({script:h,sha:"sha384",encoding:"utf8",base:"base64"})})),(0,d.Y)("amp-list",{src:"amp-script:dataFunctions.getRemoteData",items:"items","max-items":l,layout:"responsive",width:"300",height:"50"},(0,d.Y)("p",{css:D.paragraph,fallback:""},b),(0,d.Y)("template",{type:"amp-mustache"},(0,d.Y)(g.UN,{dir:k,columnLayout:"oneColumn"},(0,d.Y)(f.A,{service:i,numberOfItems:l,listIndex:"{{rankTranslation}}",dir:k,columnLayout:"oneColumn",size:r,isAmp:!0}),(0,d.Y)(g.OD,{dir:k,service:i,title:"{{title}}",href:"{{href}}",size:r})))))};const C=function(e){var n=e.children,t=e.className,r=void 0===t?"":t;return a.createElement("section",Object.assign({role:"region","aria-labelledby":"Most-Read","data-e2e":"most-read","data-testid":"most-read"},r?{className:r}:void 0),n)};var x=t(64980);const E={sectionLabel:function(e){var n=e.mq,t=e.spacings;return(0,d.AH)((0,x.A)({},n.GROUP_3_ONLY,{marginBottom:"".concat(t.DOUBLE,"rem")}),"","")}};var O=t(92578),R=t(49359);const T=function(e){var n=e.mobileDivider,t=void 0===n||n,r=e.backgroundColor,o=void 0===r?R.Pe:r,i=e.href,s=e.linkText,l=e.visuallyHidden,m=e.overrideHeadingAs,u=(0,a.useContext)(c.h),v=u.service,p=u.script,g=u.dir,f=u.mostRead.header;return(0,d.Y)(O.A,{css:E.sectionLabel,script:p,labelId:"Most-Read",service:v,dir:g,mobileDivider:t,backgroundColor:o,href:i,linkText:s,visuallyHidden:l,overrideHeadingAs:m},f)};var _=t(38819),L=t(20875),N={componentName:"most-read"},z=[L.YR,L.vw,L.R],Y=function(e){var n=e.pageType,t=e.className,r=e.mobileDivider,o=e.headingBackgroundColour,s=e.endpoint,c=e.size;return z.includes(n)?a.createElement(C,Object.assign({},t?{className:t}:void 0),a.createElement(T,{mobileDivider:r,backgroundColor:o}),a.createElement(A,{endpoint:"".concat((0,i.U)().SIMORGH_MOST_READ_CDN_URL).concat(s),size:c})):null},w=function(e){var n=e.data,t=e.className,r=e.mobileDivider,o=e.headingBackgroundColour,i=e.columnLayout,s=e.size,c=e.eventTrackingData;return n?a.createElement(C,{className:t},a.createElement(T,{mobileDivider:r,backgroundColor:o}),a.createElement(l.A,{data:n,columnLayout:i,size:s,eventTrackingData:c})):null};const B=function(e){var n=e.data,t=e.columnLayout,i=void 0===t?"multiColumn":t,l=e.size,d=void 0===l?"default":l,m=e.mobileDivider,u=void 0!==m&&m,v=e.headingBackgroundColour,p=void 0===v?R.UE:v,g=e.className,f=void 0===g?"":g,h=e.sendOptimizelyEvents,b=void 0!==h&&h,y=(0,a.useContext)(r.b),k=y.isAmp,D=y.pageType,A=y.variant,C=(0,a.useContext)(s.wP).optimizely,x=(0,a.useContext)(c.h),E=x.service,O=x.mostRead.hasMostRead;if(!((0,o.A)("mostRead").enabled&&O))return null;var T=(e=>{var{service:n,variant:t,isBff:a=!1}=e;return a?t?"/fd/simorgh-bff?pageType=mostRead&service=".concat(n,"&variant=").concat(t):"/fd/simorgh-bff?pageType=mostRead&service=".concat(n):t?"/".concat(n,"/mostread/").concat(t,".json"):"/".concat(n,"/mostread.json")})({service:E,variant:A,isBff:!(0,_.A)()}),L=Object.assign(Object.assign({},N),b&&{optimizely:C,optimizelyMetricNameOverride:"most_read"});return k?a.createElement(Y,{pageType:D,className:f,mobileDivider:u,headingBackgroundColour:p,endpoint:T,size:d}):a.createElement(w,{data:n,className:f,mobileDivider:u,headingBackgroundColour:p,columnLayout:i,size:d,eventTrackingData:L})}},36431:()=>{}}]);
//# sourceMappingURL=modern.shared-KTuiDrZFudnEZEREy3xGnFxe2E.33d2d732.js.map